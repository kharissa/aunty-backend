(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(e,t,a){},231:function(e,t,a){e.exports=a.p+"static/media/sos.8efe6f0e.jpg"},234:function(e,t,a){e.exports=a.p+"static/media/old_phone.07e475b9.mp3"},235:function(e,t,a){e.exports=a.p+"static/media/phonecall.f303cf0c.mpeg"},236:function(e,t,a){e.exports=a.p+"static/media/aunty.f30ef74b.png"},240:function(e,t,a){e.exports=a(459)},245:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(17),r=a.n(o),i=a(29),c=(a(245),a(12)),s=a(11),u=a(14),m=a(13),d=a(15),p=a(64),h=a(63),E=a(6),g=a(108),v=a(10),f=a(223),b=a(170),y=a(166),S=a(167),k=a(168),C=a(179),O=a(180),I=a(4),N=a.n(I),A=a(171),j=a(163),w=a(164),T=a(178),P=a(172),M=a(18),L=a(23),B=a.n(L),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",lastName:"",email:"",password:"",dateOfBirth:"",nationality:"",contactName:"",contactPhone:""},a.handleInput=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){var t=a.props.toastManager;B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/users/",data:{firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,password:a.state.password,dateOfBirth:a.state.dateOfBirth,nationality:a.state.nationality,contactName:a.state.contactName,contactPhone:a.state.contactPhone}}).then(function(e){"success"===e.data.status?(t.add("Thank you for creating an account! You are now logged in.",{appearance:"success",autoDismiss:!0}),localStorage.setItem("token",e.data.auth_token),localStorage.setItem("userId",e.data.user.id),localStorage.setItem("firstName",e.data.user.first_name),localStorage.setItem("lastName",e.data.user.last_name),localStorage.setItem("email",e.data.user.email)):t.add("Uh oh! We already have an account with that email. ",{appearance:"error",autoDismiss:!0}),a.props.toggle()}).catch(function(e){console.log(e),t.add("Something went wrong.",{appearance:"error"})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,null,l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement("p",null,"Register for an account to chat with Aunty."))),l.a.createElement(M.AvForm,{onValidSubmit:this.handleSubmit,id:"register"},l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"First Name"),l.a.createElement(M.AvInput,{name:"firstName",type:"text",placeholder:"First Name","aria-describedby":"inputGroupPrepend",value:this.state.firstName,onChange:this.handleInput,id:"firstName",required:!0}),l.a.createElement(M.AvFeedback,null,"Please enter a first name."))),l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Last Name"),l.a.createElement(M.AvInput,{name:"lastName",type:"text",placeholder:"Last Name","aria-describedby":"inputGroupPrepend",value:this.state.lastName,onChange:this.handleInput,id:"lastName",required:!0}),l.a.createElement(M.AvFeedback,null,"Please enter a last name.")))),l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Email"),l.a.createElement(M.AvInput,{name:"email",type:"email",placeholder:"Email Address",value:this.state.email,onChange:this.handleInput,id:"email",required:!0}),l.a.createElement(M.AvFeedback,null,"Please provide a valid email address."))),l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Password"),l.a.createElement(M.AvInput,{name:"password",type:"password",placeholder:"Password",value:this.state.password,id:"password",autoComplete:"off",onChange:this.handleInput,required:!0}),l.a.createElement(M.AvFeedback,null,"Please provide a valid password.")))),l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Date of Birth"),l.a.createElement(M.AvInput,{name:"dateOfBirth",type:"date",placeholder:"2000-01-01",value:this.state.dateOfBirth,onChange:this.handleInput,id:"dateOfBirth",required:!0}),l.a.createElement(M.AvFeedback,null,"Please provide a valid date of birth."))),l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Nationality"),l.a.createElement(M.AvField,{name:"nationality",type:"select",value:this.state.nationality,onChange:this.handleInput,id:"nationality",required:!0},F),l.a.createElement(M.AvFeedback,null,"Please provide a nationality.")))),l.a.createElement(j.a,{className:"mt-3"},l.a.createElement(w.a,null,l.a.createElement("h5",null,"Emergency Contact"))),l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Name"),l.a.createElement(M.AvInput,{name:"contactName",type:"text",placeholder:"Contact Name",value:this.state.contactName,onChange:this.handleInput,id:"contactName",required:!0}),l.a.createElement(M.AvFeedback,null,"Please enter a  name."))),l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Phone"),l.a.createElement(M.AvInput,{name:"contactPhone",type:"text",placeholder:"Contact Phone",value:this.state.contactPhone,onChange:this.handleInput,id:"contactPhone",required:!0}),l.a.createElement(M.AvFeedback,null,"Please enter a phone number.")))),l.a.createElement(j.a,null,l.a.createElement(w.a,{className:"register-info"},l.a.createElement("p",null,"Your contact will receive a message if Aunty is unable to reach you. You can update your emergency contacts and user details on the Settings page."))))),l.a.createElement(P.a,null,l.a.createElement(g.a,{className:"btn-lg",form:"register",color:"primary",type:"submit"},"Register")))}}]),t}(l.a.Component),F=l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:""},"Choose Country"),l.a.createElement("option",{value:"AF"},"Afghanistan"),l.a.createElement("option",{value:"AX"},"\xc5land Islands"),l.a.createElement("option",{value:"AL"},"Albania"),l.a.createElement("option",{value:"DZ"},"Algeria"),l.a.createElement("option",{value:"AS"},"American Samoa"),l.a.createElement("option",{value:"AD"},"Andorra"),l.a.createElement("option",{value:"AO"},"Angola"),l.a.createElement("option",{value:"AI"},"Anguilla"),l.a.createElement("option",{value:"AQ"},"Antarctica"),l.a.createElement("option",{value:"AG"},"Antigua and Barbuda"),l.a.createElement("option",{value:"AR"},"Argentina"),l.a.createElement("option",{value:"AM"},"Armenia"),l.a.createElement("option",{value:"AW"},"Aruba"),l.a.createElement("option",{value:"AU"},"Australia"),l.a.createElement("option",{value:"AT"},"Austria"),l.a.createElement("option",{value:"AZ"},"Azerbaijan"),l.a.createElement("option",{value:"BS"},"Bahamas"),l.a.createElement("option",{value:"BH"},"Bahrain"),l.a.createElement("option",{value:"BD"},"Bangladesh"),l.a.createElement("option",{value:"BB"},"Barbados"),l.a.createElement("option",{value:"BY"},"Belarus"),l.a.createElement("option",{value:"BE"},"Belgium"),l.a.createElement("option",{value:"BZ"},"Belize"),l.a.createElement("option",{value:"BJ"},"Benin"),l.a.createElement("option",{value:"BM"},"Bermuda"),l.a.createElement("option",{value:"BT"},"Bhutan"),l.a.createElement("option",{value:"BO"},"Bolivia, Plurinational State of"),l.a.createElement("option",{value:"BQ"},"Bonaire, Sint Eustatius and Saba"),l.a.createElement("option",{value:"BA"},"Bosnia and Herzegovina"),l.a.createElement("option",{value:"BW"},"Botswana"),l.a.createElement("option",{value:"BV"},"Bouvet Island"),l.a.createElement("option",{value:"BR"},"Brazil"),l.a.createElement("option",{value:"IO"},"British Indian Ocean Territory"),l.a.createElement("option",{value:"BN"},"Brunei Darussalam"),l.a.createElement("option",{value:"BG"},"Bulgaria"),l.a.createElement("option",{value:"BF"},"Burkina Faso"),l.a.createElement("option",{value:"BI"},"Burundi"),l.a.createElement("option",{value:"KH"},"Cambodia"),l.a.createElement("option",{value:"CM"},"Cameroon"),l.a.createElement("option",{value:"CA"},"Canada"),l.a.createElement("option",{value:"CV"},"Cape Verde"),l.a.createElement("option",{value:"KY"},"Cayman Islands"),l.a.createElement("option",{value:"CF"},"Central African Republic"),l.a.createElement("option",{value:"TD"},"Chad"),l.a.createElement("option",{value:"CL"},"Chile"),l.a.createElement("option",{value:"CN"},"China"),l.a.createElement("option",{value:"CX"},"Christmas Island"),l.a.createElement("option",{value:"CC"},"Cocos (Keeling) Islands"),l.a.createElement("option",{value:"CO"},"Colombia"),l.a.createElement("option",{value:"KM"},"Comoros"),l.a.createElement("option",{value:"CG"},"Congo"),l.a.createElement("option",{value:"CD"},"Congo, the Democratic Republic of the"),l.a.createElement("option",{value:"CK"},"Cook Islands"),l.a.createElement("option",{value:"CR"},"Costa Rica"),l.a.createElement("option",{value:"CI"},"C\xf4te d'Ivoire"),l.a.createElement("option",{value:"HR"},"Croatia"),l.a.createElement("option",{value:"CU"},"Cuba"),l.a.createElement("option",{value:"CW"},"Cura\xe7ao"),l.a.createElement("option",{value:"CY"},"Cyprus"),l.a.createElement("option",{value:"CZ"},"Czech Republic"),l.a.createElement("option",{value:"DK"},"Denmark"),l.a.createElement("option",{value:"DJ"},"Djibouti"),l.a.createElement("option",{value:"DM"},"Dominica"),l.a.createElement("option",{value:"DO"},"Dominican Republic"),l.a.createElement("option",{value:"EC"},"Ecuador"),l.a.createElement("option",{value:"EG"},"Egypt"),l.a.createElement("option",{value:"SV"},"El Salvador"),l.a.createElement("option",{value:"GQ"},"Equatorial Guinea"),l.a.createElement("option",{value:"ER"},"Eritrea"),l.a.createElement("option",{value:"EE"},"Estonia"),l.a.createElement("option",{value:"ET"},"Ethiopia"),l.a.createElement("option",{value:"FK"},"Falkland Islands (Malvinas)"),l.a.createElement("option",{value:"FO"},"Faroe Islands"),l.a.createElement("option",{value:"FJ"},"Fiji"),l.a.createElement("option",{value:"FI"},"Finland"),l.a.createElement("option",{value:"FR"},"France"),l.a.createElement("option",{value:"GF"},"French Guiana"),l.a.createElement("option",{value:"PF"},"French Polynesia"),l.a.createElement("option",{value:"TF"},"French Southern Territories"),l.a.createElement("option",{value:"GA"},"Gabon"),l.a.createElement("option",{value:"GM"},"Gambia"),l.a.createElement("option",{value:"GE"},"Georgia"),l.a.createElement("option",{value:"DE"},"Germany"),l.a.createElement("option",{value:"GH"},"Ghana"),l.a.createElement("option",{value:"GI"},"Gibraltar"),l.a.createElement("option",{value:"GR"},"Greece"),l.a.createElement("option",{value:"GL"},"Greenland"),l.a.createElement("option",{value:"GD"},"Grenada"),l.a.createElement("option",{value:"GP"},"Guadeloupe"),l.a.createElement("option",{value:"GU"},"Guam"),l.a.createElement("option",{value:"GT"},"Guatemala"),l.a.createElement("option",{value:"GG"},"Guernsey"),l.a.createElement("option",{value:"GN"},"Guinea"),l.a.createElement("option",{value:"GW"},"Guinea-Bissau"),l.a.createElement("option",{value:"GY"},"Guyana"),l.a.createElement("option",{value:"HT"},"Haiti"),l.a.createElement("option",{value:"HM"},"Heard Island and McDonald Islands"),l.a.createElement("option",{value:"VA"},"Holy See (Vatican City State)"),l.a.createElement("option",{value:"HN"},"Honduras"),l.a.createElement("option",{value:"HK"},"Hong Kong"),l.a.createElement("option",{value:"HU"},"Hungary"),l.a.createElement("option",{value:"IS"},"Iceland"),l.a.createElement("option",{value:"IN"},"India"),l.a.createElement("option",{value:"ID"},"Indonesia"),l.a.createElement("option",{value:"IR"},"Iran, Islamic Republic of"),l.a.createElement("option",{value:"IQ"},"Iraq"),l.a.createElement("option",{value:"IE"},"Ireland"),l.a.createElement("option",{value:"IM"},"Isle of Man"),l.a.createElement("option",{value:"IL"},"Israel"),l.a.createElement("option",{value:"IT"},"Italy"),l.a.createElement("option",{value:"JM"},"Jamaica"),l.a.createElement("option",{value:"JP"},"Japan"),l.a.createElement("option",{value:"JE"},"Jersey"),l.a.createElement("option",{value:"JO"},"Jordan"),l.a.createElement("option",{value:"KZ"},"Kazakhstan"),l.a.createElement("option",{value:"KE"},"Kenya"),l.a.createElement("option",{value:"KI"},"Kiribati"),l.a.createElement("option",{value:"KP"},"Korea, Democratic People's Republic of"),l.a.createElement("option",{value:"KR"},"Korea, Republic of"),l.a.createElement("option",{value:"KW"},"Kuwait"),l.a.createElement("option",{value:"KG"},"Kyrgyzstan"),l.a.createElement("option",{value:"LA"},"Lao People's Democratic Republic"),l.a.createElement("option",{value:"LV"},"Latvia"),l.a.createElement("option",{value:"LB"},"Lebanon"),l.a.createElement("option",{value:"LS"},"Lesotho"),l.a.createElement("option",{value:"LR"},"Liberia"),l.a.createElement("option",{value:"LY"},"Libya"),l.a.createElement("option",{value:"LI"},"Liechtenstein"),l.a.createElement("option",{value:"LT"},"Lithuania"),l.a.createElement("option",{value:"LU"},"Luxembourg"),l.a.createElement("option",{value:"MO"},"Macao"),l.a.createElement("option",{value:"MK"},"Macedonia, the former Yugoslav Republic of"),l.a.createElement("option",{value:"MG"},"Madagascar"),l.a.createElement("option",{value:"MW"},"Malawi"),l.a.createElement("option",{value:"MY"},"Malaysia"),l.a.createElement("option",{value:"MV"},"Maldives"),l.a.createElement("option",{value:"ML"},"Mali"),l.a.createElement("option",{value:"MT"},"Malta"),l.a.createElement("option",{value:"MH"},"Marshall Islands"),l.a.createElement("option",{value:"MQ"},"Martinique"),l.a.createElement("option",{value:"MR"},"Mauritania"),l.a.createElement("option",{value:"MU"},"Mauritius"),l.a.createElement("option",{value:"YT"},"Mayotte"),l.a.createElement("option",{value:"MX"},"Mexico"),l.a.createElement("option",{value:"FM"},"Micronesia, Federated States of"),l.a.createElement("option",{value:"MD"},"Moldova, Republic of"),l.a.createElement("option",{value:"MC"},"Monaco"),l.a.createElement("option",{value:"MN"},"Mongolia"),l.a.createElement("option",{value:"ME"},"Montenegro"),l.a.createElement("option",{value:"MS"},"Montserrat"),l.a.createElement("option",{value:"MA"},"Morocco"),l.a.createElement("option",{value:"MZ"},"Mozambique"),l.a.createElement("option",{value:"MM"},"Myanmar"),l.a.createElement("option",{value:"NA"},"Namibia"),l.a.createElement("option",{value:"NR"},"Nauru"),l.a.createElement("option",{value:"NP"},"Nepal"),l.a.createElement("option",{value:"NL"},"Netherlands"),l.a.createElement("option",{value:"NC"},"New Caledonia"),l.a.createElement("option",{value:"NZ"},"New Zealand"),l.a.createElement("option",{value:"NI"},"Nicaragua"),l.a.createElement("option",{value:"NE"},"Niger"),l.a.createElement("option",{value:"NG"},"Nigeria"),l.a.createElement("option",{value:"NU"},"Niue"),l.a.createElement("option",{value:"NF"},"Norfolk Island"),l.a.createElement("option",{value:"MP"},"Northern Mariana Islands"),l.a.createElement("option",{value:"NO"},"Norway"),l.a.createElement("option",{value:"OM"},"Oman"),l.a.createElement("option",{value:"PK"},"Pakistan"),l.a.createElement("option",{value:"PW"},"Palau"),l.a.createElement("option",{value:"PS"},"Palestinian Territory, Occupied"),l.a.createElement("option",{value:"PA"},"Panama"),l.a.createElement("option",{value:"PG"},"Papua New Guinea"),l.a.createElement("option",{value:"PY"},"Paraguay"),l.a.createElement("option",{value:"PE"},"Peru"),l.a.createElement("option",{value:"PH"},"Philippines"),l.a.createElement("option",{value:"PN"},"Pitcairn"),l.a.createElement("option",{value:"PL"},"Poland"),l.a.createElement("option",{value:"PT"},"Portugal"),l.a.createElement("option",{value:"PR"},"Puerto Rico"),l.a.createElement("option",{value:"QA"},"Qatar"),l.a.createElement("option",{value:"RE"},"R\xe9union"),l.a.createElement("option",{value:"RO"},"Romania"),l.a.createElement("option",{value:"RU"},"Russian Federation"),l.a.createElement("option",{value:"RW"},"Rwanda"),l.a.createElement("option",{value:"BL"},"Saint Barth\xe9lemy"),l.a.createElement("option",{value:"SH"},"Saint Helena, Ascension and Tristan da Cunha"),l.a.createElement("option",{value:"KN"},"Saint Kitts and Nevis"),l.a.createElement("option",{value:"LC"},"Saint Lucia"),l.a.createElement("option",{value:"MF"},"Saint Martin (French part)"),l.a.createElement("option",{value:"PM"},"Saint Pierre and Miquelon"),l.a.createElement("option",{value:"VC"},"Saint Vincent and the Grenadines"),l.a.createElement("option",{value:"WS"},"Samoa"),l.a.createElement("option",{value:"SM"},"San Marino"),l.a.createElement("option",{value:"ST"},"Sao Tome and Principe"),l.a.createElement("option",{value:"SA"},"Saudi Arabia"),l.a.createElement("option",{value:"SN"},"Senegal"),l.a.createElement("option",{value:"RS"},"Serbia"),l.a.createElement("option",{value:"SC"},"Seychelles"),l.a.createElement("option",{value:"SL"},"Sierra Leone"),l.a.createElement("option",{value:"SG"},"Singapore"),l.a.createElement("option",{value:"SX"},"Sint Maarten (Dutch part)"),l.a.createElement("option",{value:"SK"},"Slovakia"),l.a.createElement("option",{value:"SI"},"Slovenia"),l.a.createElement("option",{value:"SB"},"Solomon Islands"),l.a.createElement("option",{value:"SO"},"Somalia"),l.a.createElement("option",{value:"ZA"},"South Africa"),l.a.createElement("option",{value:"GS"},"South Georgia and the South Sandwich Islands"),l.a.createElement("option",{value:"SS"},"South Sudan"),l.a.createElement("option",{value:"ES"},"Spain"),l.a.createElement("option",{value:"LK"},"Sri Lanka"),l.a.createElement("option",{value:"SD"},"Sudan"),l.a.createElement("option",{value:"SR"},"Suriname"),l.a.createElement("option",{value:"SJ"},"Svalbard and Jan Mayen"),l.a.createElement("option",{value:"SZ"},"Swaziland"),l.a.createElement("option",{value:"SE"},"Sweden"),l.a.createElement("option",{value:"CH"},"Switzerland"),l.a.createElement("option",{value:"SY"},"Syrian Arab Republic"),l.a.createElement("option",{value:"TW"},"Taiwan, Province of China"),l.a.createElement("option",{value:"TJ"},"Tajikistan"),l.a.createElement("option",{value:"TZ"},"Tanzania, United Republic of"),l.a.createElement("option",{value:"TH"},"Thailand"),l.a.createElement("option",{value:"TL"},"Timor-Leste"),l.a.createElement("option",{value:"TG"},"Togo"),l.a.createElement("option",{value:"TK"},"Tokelau"),l.a.createElement("option",{value:"TO"},"Tonga"),l.a.createElement("option",{value:"TT"},"Trinidad and Tobago"),l.a.createElement("option",{value:"TN"},"Tunisia"),l.a.createElement("option",{value:"TR"},"Turkey"),l.a.createElement("option",{value:"TM"},"Turkmenistan"),l.a.createElement("option",{value:"TC"},"Turks and Caicos Islands"),l.a.createElement("option",{value:"TV"},"Tuvalu"),l.a.createElement("option",{value:"UG"},"Uganda"),l.a.createElement("option",{value:"UA"},"Ukraine"),l.a.createElement("option",{value:"AE"},"United Arab Emirates"),l.a.createElement("option",{value:"GB"},"United Kingdom"),l.a.createElement("option",{value:"US"},"United States"),l.a.createElement("option",{value:"UM"},"United States Minor Outlying Islands"),l.a.createElement("option",{value:"UY"},"Uruguay"),l.a.createElement("option",{value:"UZ"},"Uzbekistan"),l.a.createElement("option",{value:"VU"},"Vanuatu"),l.a.createElement("option",{value:"VE"},"Venezuela, Bolivarian Republic of"),l.a.createElement("option",{value:"VN"},"Viet Nam"),l.a.createElement("option",{value:"VG"},"Virgin Islands, British"),l.a.createElement("option",{value:"VI"},"Virgin Islands, U.S."),l.a.createElement("option",{value:"WF"},"Wallis and Futuna"),l.a.createElement("option",{value:"EH"},"Western Sahara"),l.a.createElement("option",{value:"YE"},"Yemen"),l.a.createElement("option",{value:"ZM"},"Zambia"),l.a.createElement("option",{value:"ZW"},"Zimbabwe")),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loginEmail:"",loginPassword:""},a.handleInput=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){var t=a.props.toastManager;B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/sessions/",data:{email:a.state.loginEmail,password:a.state.loginPassword}}).then(function(e){"success"===e.data.status?(t.add("Welcome back! You are now logged in.",{appearance:"success",autoDismiss:!0}),localStorage.setItem("token",e.data.auth_token),localStorage.setItem("userId",e.data.user.id),localStorage.setItem("firstName",e.data.user.first_name),localStorage.setItem("lastName",e.data.user.last_name),localStorage.setItem("email",e.data.user.email)):t.add("Uh oh! We were unable to match your email with the password provided.",{appearance:"error",autoDismiss:!0}),a.props.toggle()}).catch(function(e){console.log(e);var a=e.data.message;t.add('Something went wrong: "'.concat(a,'"'),{appearance:"error"})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,null,l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement("p",null,"Welcome back! Please login."))),l.a.createElement(M.AvForm,{onValidSubmit:this.handleSubmit,id:"login"},l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Email"),l.a.createElement(M.AvInput,{name:"loginEmail",type:"email",placeholder:"Email Address",value:this.state.loginEmail,onChange:this.handleInput,id:"loginEmail",required:!0}),l.a.createElement(M.AvFeedback,null,"Please provide a valid email address."))),l.a.createElement(w.a,null,l.a.createElement(M.AvGroup,null,l.a.createElement(T.a,null,"Password"),l.a.createElement(M.AvInput,{name:"loginPassword",type:"password",placeholder:"Password",value:this.state.loginPassword,id:"loginPassword",onChange:this.handleInput,autoComplete:"off",required:!0}),l.a.createElement(M.AvFeedback,null,"Please provide a valid password.")))))),l.a.createElement(P.a,null,l.a.createElement(g.a,{className:"btn-lg",form:"login",color:"primary",type:"submit"},"Login")))}}]),t}(l.a.Component),D=Object(h.withToastManager)(G),R=Object(h.withToastManager)(x),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).switch=a.switch.bind(Object(E.a)(Object(E.a)(a))),a.state={activeTab:"1"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"switch",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e,t=this;return l.a.createElement(f.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,modalClassName:"right",fade:!1,style:{color:"#000080"}},l.a.createElement(b.a,{toggle:this.props.toggle},l.a.createElement(y.a,{tabs:!0},l.a.createElement(S.a,null,l.a.createElement(k.a,(e={className:"Register"},Object(v.a)(e,"className",N()({active:"1"===this.state.activeTab})),Object(v.a)(e,"onClick",function(){t.switch("1")}),e),"Register")),l.a.createElement(S.a,null,l.a.createElement(k.a,{className:N()({active:"2"===this.state.activeTab}),onClick:function(){t.switch("2")}},"Login")))),l.a.createElement(C.a,{activeTab:this.state.activeTab},l.a.createElement(O.a,{tabId:"1"},l.a.createElement(D,{toggle:this.props.toggle})),l.a.createElement(O.a,{tabId:"2"},l.a.createElement(R,{toggle:this.props.toggle}))))}}]),t}(l.a.Component),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).showModal=function(){a.state.modal?(document.querySelector(".modal.right .modal-dialog").style.animation="slide-out 1.5s forwards",setTimeout(function(){a.setState(function(e){return{modal:!e.modal}})},1e3)):a.setState(function(e){return{modal:!e.modal}})},a.state={modal:!1},a.showModal=a.showModal.bind(Object(E.a)(Object(E.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(i.b,{to:"/chat"},"Chat with Aunty")," ",l.a.createElement("br",null),l.a.createElement(i.b,{to:"/geolocation"},"Geolocation")," ",l.a.createElement("br",null),l.a.createElement(i.b,{to:"/map"},"Map")," ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(i.b,{to:"/setting"},"Setting")," ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(g.a,{outline:!0,color:"primary",onClick:this.showModal},"Register / Login"),l.a.createElement("p",null,"This is the home page. ",l.a.createElement("br",null),"Wait ah, Aunty still building."),l.a.createElement(_,{isOpen:this.state.modal,toggle:this.showModal}))}}]),t}(l.a.Component),U=a(137),W=a(226),z=a.n(W),Y=a(162),K=(a(211),a(28)),V=a.n(K),Z=a(237),q=a(86),J=a.n(q);J.a.KEY=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GOOGLE_KEY,J.a.LIBRARIES=["places"],J.a.LANGUAGE="en";var Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={error:!1,name:"",address:"",loading:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t={radius:1e5,center:{lat:parseFloat(localStorage.getItem("latitude")),lng:parseFloat(localStorage.getItem("longitude"))}},a={query:this.props.steps.itineraryLocation.value,fields:["name","geometry","formatted_address"],locationBias:t};J.a.load(function(t){var n=new t.maps.Map(document.createElement("div"));new t.maps.places.PlacesService(n).findPlaceFromQuery(a,function(t,a){if("OK"===a){e.props.triggerNextStep({trigger:"8"}),e.setState({loading:!1,name:t[0].name,address:t[0].formatted_address});var n=t[0].geometry.location.lat().toFixed(6),l=t[0].geometry.location.lng().toFixed(6);localStorage.setItem("itineraryLatitude",n),localStorage.setItem("itineraryLongitude",l),localStorage.setItem("itineraryLocation",e.state.name),localStorage.setItem("itineraryAddress",t[0].formatted_address)}else e.props.triggerNextStep({trigger:"5"}),e.setState({error:!0,loading:!1})})})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.address,n=e.error,o=e.loading;return l.a.createElement("div",null," ",o?l.a.createElement("p",null,"Searching my phonebook..."):n?l.a.createElement("p",null,"I don't know where that is! Please try again."):l.a.createElement("div",{id:"result"},l.a.createElement("p",null,"Is it this one ah?"),l.a.createElement("p",null,l.a.createElement("b",null,t)),l.a.createElement("p",null,a)))}}]),t}(l.a.Component),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentWillMount=function(){var e=localStorage.getItem("token"),t=a.props.step.metadata.image_id,n=[];B()({method:"get",url:"https://gokaikai.herokuapp.com/api/v1/images/".concat(t),headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){var t=e.data.results,l=e.data.imageURL;for(var o in t)t[o]>.7&&n.push(o);a.setState({loading:!1,properties:n,imageUrl:l}),localStorage.removeItem("update"),localStorage.removeItem("updateImageId")}).catch(function(e){console.log(e),a.setState({loading:!1})})},a.state={loading:!0,properties:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.properties,n=e.imageUrl,o=l.a.createElement("div",null,"Loading...");return l.a.createElement("div",null,l.a.createElement("strong",null,"UPDATE"),l.a.createElement("p",null,"Aunty took a look at the photo you sent..."),l.a.createElement("img",{src:n,width:"100%"}),t?o:a.length>0?l.a.createElement("div",{className:"text-left"},"Based on Aunty's analysis, there is a high probability of the following in the photo:",l.a.createElement("ul",null,a.map(function(e,t){return l.a.createElement("li",{key:t},e)}))):l.a.createElement("p",null,"Aunty was unable to detect anything.",l.a.createElement("br",null),"However, stay alert! We will save this photo for you."))}}]),t}(l.a.Component),$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={location:"",description:"",time:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("userId"),t=localStorage.getItem("itineraryLocation"),a=localStorage.getItem("itineraryTime"),n=localStorage.getItem("itineraryDetails"),l=localStorage.getItem("itineraryLatitude"),o=localStorage.getItem("itineraryLongitude"),r=localStorage.getItem("itineraryAddress");B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/pins/itinerary/",data:{pinName:t,userId:e,longitude:parseFloat(l),latitude:parseFloat(o),startTime:a,description:n,address:r}}).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),this.setState({location:t,description:n,time:a})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Ok so you are going to ",this.state.location," ",this.state.description," at ",this.state.time,"?"),l.a.createElement("p",null,"Aunty will check in then, lah!"))}}]),t}(l.a.Component),ee="YYYY-MM-DD HH:mm",te=V()().hour(0).minute(0),ae={background:"#f5f8fb",fontFamily:"Helvetica Neue",headerBgColor:"#EF6C00",headerFontColor:"#fff",headerFontSize:"15px",botBubbleColor:"#FFA205",botFontColor:"#fff",userBubbleColor:"#fff",userFontColor:"#4a4a4a"},ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:!0,firstName:"",loading:!0,itineraryTime:"",call:!1,update:!1},a.componentDidMount=function(){localStorage.getItem("token")?localStorage.getItem("update")?a.setState({firstName:localStorage.getItem("firstName"),loading:!1,update:!0}):a.setState({firstName:localStorage.getItem("firstName"),loading:!1}):a.setState({loggedIn:!1})},a.handleTime=function(e){a.setState({itineraryTime:e&&e.format(ee)}),localStorage.setItem("itineraryTime",e.format(ee))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleRedirect",value:function(){return!1===this.state.loggedIn?l.a.createElement(p.a,{to:"/"}):!0===this.state.call?l.a.createElement(p.a,{to:"/call"}):void 0}},{key:"render",value:function(){var e=this,t=l.a.createElement("div",null,"Loading..."),a=[{id:"welcome",message:"Hallo ".concat(this.state.firstName,"! Aunty here. How are you?"),trigger:function(){return e.state.update?"update":"welcome user response"}},{id:"update",component:l.a.createElement(X,null),metadata:{image_id:localStorage.getItem("updateImageId")},asMessage:!0,trigger:"need more help"},{id:"need more help",message:"Need anything else?",trigger:"need more help options"},{id:"need more help options",options:[{value:"Yes",label:"Yes",trigger:"menu"},{value:"No",label:"No",trigger:"21"}]},{id:"welcome user response",user:!0,trigger:"menu"},{id:"menu",message:"How can Aunty help you today?",trigger:"4"},{id:"4",options:[{value:"Tell Aunty where I'm going so she can check on me",label:"Aunty, I'm going out today!",trigger:"5"},{value:"Get on a call with Aunty",label:"Aunty, lai! We chit chat together gether.",trigger:"22"},{value:"Ask Aunty where the nearest safe spot is",label:"Aunty, I don't feel safe here. Where's the nearest, safest place to go?",trigger:"23"},{value:"Let Aunty scan your location for danger",label:"Aunty, I don't feel safe, can you look around for me?",trigger:"24"}]},{id:"5",message:"Where are you going?",trigger:"itineraryLocation"},{id:"itineraryLocation",user:!0,trigger:"itineraryLocationSearch"},{id:"itineraryLocationSearch",component:l.a.createElement(Q,null),waitAction:!0,asMessage:!0},{id:"8",options:[{value:"Ya, ya, correct.",label:"Ya, ya, correct.",trigger:"9"},{value:"No, that's not the right location.",label:"No, that's not the right location.",trigger:"5"}]},{id:"9",component:l.a.createElement("div",null,l.a.createElement("p",null,"When you going? What time?"),l.a.createElement(Z.a,{showSecond:!1,defaultValue:te,className:"xxx",onChange:this.handleTime,format:ee,use12Hours:!0,inputReadOnly:!0})),asMessage:!0,trigger:"itineraryTime"},{id:"itineraryTime",options:[{value:"Time selected.",label:"Time selected.",trigger:"11"}]},{id:"11",message:"You going with who?",trigger:"itineraryDetails"},{id:"itineraryDetails",options:[{value:"alone",label:"By myself",trigger:"13"},{value:"With people lah.",label:"With people lah.",trigger:"16"}]},{id:"13",message:function(e){var t=e.previousValue;return localStorage.setItem("itineraryDetails",t),"Wah, you syok sendiri! Bojio Aunty ):"},trigger:"14"},{id:"14",message:"Joking only lah. If anything you call Aunty. Enjoy!",trigger:"ConfirmItineraryPin"},{id:"16",message:"Who? Who? Go on a date ah? Aunty kepo...",trigger:"17"},{id:"17",user:!0,trigger:"18"},{id:"18",message:function(e){var t=e.previousValue;return localStorage.setItem("itineraryDetails","with "+t),"Oh ya, I know the mother. You all enjoy and be safe!"},trigger:"ConfirmItineraryPin"},{id:"ConfirmItineraryPin",component:l.a.createElement($,null),asMessage:!0,trigger:"19"},{id:"19",message:"You got go anywhere else?",trigger:"20"},{id:"20",options:[{value:"Yes",label:"Yes",trigger:"5"},{value:"No",label:"No",trigger:"21"}]},{id:"21",message:"Ok ok. Come and spend time with Aunty lah.",end:!0},{id:"22",message:function(){return e.setState({call:!0}),"Aunty will call you now!"},end:!0},{id:"23",message:"Nah, this is the nearest I can find. Open the map and see <Link to map>",end:!0},{id:"24",message:'<Link to "video call"/ camera scan>',end:!0}];return l.a.createElement(Y.a,null,this.state.loading||0===this.state.firstName.length?t:l.a.createElement(U.ThemeProvider,{theme:ae},l.a.createElement(z.a,{hideHeader:!0,headerTitle:"Chat with Aunty",recognitionEnable:!0,steps:a})),this.handleRedirect())}}]),t}(l.a.Component),le=a(169),oe=a(231),re=a.n(oe),ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).close=function(){a.setState({modal:!1}),a.reset()},a.open=function(){!1===a.state.disabled&&(a.setState({modal:!0}),a.timeout())},a.contact_emergency=function(e){a.close(),B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/sos/",withCredentials:!1,headers:{Authorization:"Bearer ".concat(a.state.token),"Content-Type":"application/json"},data:{latitude:a.state.latitude,longitude:a.state.longitude}}).then(function(e){"success"===e.data.status?console.log("Aunty is asking for help dy!!"):console.log("Sorry, Aunty can't find your friend")})},a.timeout=function(){a.setState({disabled:!0}),setTimeout(function(){!0===a.state.modal&&(a.setState({modal:!1}),console.log("Aunty is contacting your friend"),a.contact_emergency())},7e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15,message:""}})},1e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15,message:"Response ASAP"}})},2e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15}})},3e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15,message:"Aunty is worried!!"}})},4e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15}})},5e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15,message:"Aunty is finding your friend!"}})},6e3),setTimeout(function(){a.setState(function(e){return{value:e.value+15,disabled:!1}})},7e3),a.reset()},a.state={modal:!1,value:0,message:"",disabled:!1,contact:[],latitude:localStorage.getItem("latitude"),longitude:localStorage.getItem("longitude"),token:localStorage.getItem("token")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");B()({method:"GET",url:"https://gokaikai.herokuapp.com/api/v1/contacts/",headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({contact:t.data.personalContacts[0]}),console.log(t)})}},{key:"reset",value:function(){this.setState({value:0,message:""})}},{key:"render",value:function(){return l.a.createElement("div",{height:"100%"},l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("img",{id:"sosButton",className:"my-auto",src:re.a,onClick:this.open,width:"100%"}),l.a.createElement("div",null,l.a.createElement("p",null,"Name: ",this.state.contact.name),l.a.createElement("p",null,"Relationship: ",this.state.contact.relationship),l.a.createElement("p",null,"Phone Number: ",this.state.contact.phone_number)),l.a.createElement(f.a,{isOpen:this.state.modal,toggle:this.close},l.a.createElement(b.a,{toggle:this.close},"Are you in danger?"),l.a.createElement(A.a,null,"Do you want Aunty to contact your friend?",l.a.createElement("p",null),l.a.createElement(le.a,{striped:!0,color:"danger",value:this.state.value},this.state.message)),l.a.createElement(P.a,null,l.a.createElement(g.a,{color:"primary",onClick:this.contact_emergency},"Yes")," ",l.a.createElement(g.a,{color:"secondary",onClick:this.close},"No"))))}}]),t}(l.a.Component),ce=a(219),se=a(220),ue=a(214),me=a(215),de=a(174),pe=a(175),he=a(177),Ee=a(176),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(v.a)({},e.target.id,e.target.value))},a.handleSafeOrDanger=function(){a.setState(function(e){return{is_safe:!e.is_safe}})},a.handlePublicOrPrivate=function(){a.setState(function(e){return{is_public:!e.is_public}})},a.handleCategorySelect=function(e){a.setState({category:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.position[0].toFixed(6),n=a.props.position[1].toFixed(6),l=localStorage.getItem("token");B()({method:"post",url:"https://gokaikai.herokuapp.com/api/v1/pins/map/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},data:{pinName:a.state.name,userId:localStorage.getItem("userId"),latitude:t,longitude:n,category:a.state.category,isSafe:a.state.is_safe,isPublic:a.state.is_public,radius:3,source:"User"}}).then(function(e){console.log(e),"success"===e.data.status?(console.log("pin created!"),console.log("response"),console.log(a.state.newPins)):console.log("ohnoes.")}).catch(function(e){console.log(e)})},a.state={autoFocus:!0,name:"",is_safe:!1,category:"none",is_public:!0,modalType:!1,newPins:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=l.a.createElement("button",{className:"close",onClick:this.props.toggleModal},"\xd7");return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{isOpen:this.props.modal,toggle:this.props.toggleModal},l.a.createElement(b.a,{className:"create-pin-head",toggle:this.toggleModal,close:e},"Create a Pin"),l.a.createElement(A.a,null,l.a.createElement(de.a,null,l.a.createElement(pe.a,{check:!0},l.a.createElement(T.a,{check:!0},l.a.createElement(he.a,{type:"checkbox",onChange:this.handleSafeOrDanger})," ","Is this a safe place?")),l.a.createElement(pe.a,null,l.a.createElement(T.a,{for:"pinName",size:"sm"},"Describe this pin"),l.a.createElement(he.a,{type:"text",id:"name",placeholder:"",onChange:this.handleInput}),l.a.createElement(Ee.a,{color:"muted"},"Tell us what's here or what happened at this location.")),l.a.createElement(j.a,{form:!0},l.a.createElement(w.a,{md:6},l.a.createElement(pe.a,null,l.a.createElement(T.a,{for:"pinLat"},"Latitude"),l.a.createElement(he.a,{disabled:!0,type:"text",id:"pinLat",placeholder:this.props.position[0]}))),l.a.createElement(w.a,{md:6},l.a.createElement(pe.a,null,l.a.createElement(T.a,{for:"pinLng"},"Longitude"),l.a.createElement(he.a,{disabled:!0,type:"text",id:"pinLng",placeholder:this.props.position[1]})))),l.a.createElement(pe.a,null,l.a.createElement(T.a,{for:"selectCat"},"Category"),l.a.createElement(he.a,{type:"select",id:"selectCat",value:this.state.category,onChange:this.handleCategorySelect},!1===this.state.is_safe?l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:""},"Select a category"),l.a.createElement("option",{value:"Harassment"},"Harassment"),l.a.createElement("option",{value:"Hate Crime"},"Hate Crime"),l.a.createElement("option",{value:"Assault"},"Assault"),l.a.createElement("option",{value:"Theft"},"Theft"),l.a.createElement("option",{value:"Shooting"},"Shooting")):l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:""},"Select a category"),l.a.createElement("option",{value:"Home/Safe House"},"Home/Safe House"),l.a.createElement("option",{value:"Hotel"},"Hotel"),l.a.createElement("option",{value:"Hospital"},"Hospital"),l.a.createElement("option",{value:"Police Presence"},"Police Presence")))),l.a.createElement(pe.a,{check:!0},l.a.createElement(T.a,{check:!0},l.a.createElement(he.a,{type:"checkbox",onChange:this.handlePublicOrPrivate})," ","Private pin")))),l.a.createElement(P.a,null,l.a.createElement(g.a,{form:"createPin",onClick:this.handleSubmit},"Submit"))))}}]),t}(l.a.Component),ve=a(35),fe=a(8),be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).giveIcon=function(e){var t=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-angry fa-2x"}))}),a=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-skull fa-2x"}))}),n=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-walking fa-2x"}))}),o=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-haykal fa-2x"}))}),r=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-shoeprint fa-2x"}))}),i=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-bullhorn fa-2x"}))}),c=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-clinic-medical fa-2x"}))}),s=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-bed fa-2x"}))}),u=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-home fa-2x"}))}),m=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-map-marker-alt fa-2x"}))});return"Hate Crime"===e?t:"Assault"===e?a:"Theft"===e?n:"Shooting"===e?o:"Harassment"===e?r:"Police"===e?i:"Medical"===e?c:"Hotel"===e?s:"Home"===e?u:m},a.state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,this.props.pins.map(function(t,a){return l.a.createElement(ue.a,{key:t.id,position:[Number(t.latitude),Number(t.longitude)],icon:e.giveIcon(t.category)},l.a.createElement(me.a,null,l.a.createElement("p",null,t.category)))}))}}]),t}(l.a.Component),ye=a(44),Se=a(9),ke=a(143),Ce=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"createLeafletElement",value:function(e){var t=new ke.GoogleProvider({params:{key:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GOOGLE_API_KEY}});return new ke.GeoSearchControl({provider:t,position:"topleft",style:"bar"})}},{key:"componentDidMount",value:function(){var e=this.props.leaflet.map;this.leafletElement.searchElement.elements.container.onclick=function(e){e.stopPropagation()},e.addControl(this.leafletElement)}}]),t}(ye.a),Oe=Object(Se.c)(Ce),Ie=a(232),Ne=a.n(Ie),Ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){var t=e.latlng,n=t.lat,l=t.lng;a.setState({clickedMarker:[n,l]}),console.log(a.state.clickedMarker)},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a.state={clickTime:0,currentZoom:15,mapTilesCarto:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",clickedMarker:[],modal:!1,isOpen:!1,pins:[],itinerary:[],publicPins:[],privatePins:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");B()({method:"GET",url:"https://gokaikai.herokuapp.com/api/v1/pins/map/",headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({pins:t.data.publicPins})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng,n=Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-circle"}))});return l.a.createElement(l.a.Fragment,null,l.a.createElement(ce.a,{center:[t,a],zoom:13,maxZoom:20,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,closePopupOnClick:!0,dragging:!0,animate:!0,easeLinearity:.35,onclick:this.handleClick,onZoomend:this.onZoomEvent,worldCopyJump:!0,tap:!0,className:"markercluster-map"},l.a.createElement(Oe,{interactive:!0}),l.a.createElement(se.a,{url:this.state.mapTilesCarto}),l.a.createElement(Ne.a,{showCoverageOnHover:!0,maxClusterRadius:100,animate:!0,spiderLegPolylineOptions:{weight:1.5,color:"#d3d3d3",opacity:.3}},l.a.createElement(be,{pins:this.state.pins})),l.a.createElement(ue.a,{position:[t,a],icon:n},l.a.createElement(me.a,null,l.a.createElement("div",{align:"center"},l.a.createElement("img",{src:"https://media.giphy.com/media/1rNWZu4QQqCUaq434T/giphy.gif",width:"200px",alt:"??"}),l.a.createElement("br",null),l.a.createElement("b",null,"Wah, this place you bring Aunty so nice!")))),this.state.clickedMarker.length>0?l.a.createElement(ue.a,{className:"new-marker",position:this.state.clickedMarker,onclick:this.toggleModal,icon:Object(fe.divIcon)({html:Object(ve.renderToStaticMarkup)(l.a.createElement("i",{className:" fa fa-plus fa-2x"}))})}):null,l.a.createElement(ge,{modal:this.state.modal,toggleModal:this.toggleModal,position:this.state.clickedMarker})))}}]),t}(l.a.Component),je=a(46),we=a(233),Te=a.n(we),Pe=a(57),Me=a.n(Pe),Le=a(234),Be=a.n(Le),Ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={status:""},a.componentDidMount=function(){a.setState({status:Me.a.status.PLAYING})},a.componentWillUnmount=function(){a.setState({status:Me.a.status.STOPPED})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(Me.a,{url:Be.a,loop:!0,playStatus:this.state.status,playFromPosition:300})}}]),t}(l.a.Component),Fe=a(235),xe=a.n(Fe),De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={status:""},a.componentDidMount=function(){a.setState({status:Me.a.status.PLAYING})},a.componentWillUnmount=function(){a.setState({status:Me.a.status.STOPPED})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(Me.a,{url:xe.a,playStatus:this.state.status})}}]),t}(l.a.Component),Re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={incomingCall:!0,onCall:!1,callTime:0,onVideo:!1,endCall:!1},a.handleToggle=function(){a.setState(function(e){return{incomingCall:!e.incomingCall}})},a.handleCallAccept=function(){a.setState({onCall:!0,incomingCall:!1,callTime:0}),a.handleTime()},a.handleCallEnd=function(){a.setState({onCall:!1,incomingCall:!1,callTime:0,endCall:!0}),clearInterval(a.state.timer)},a.handleVideo=function(){a.setState({onVideo:!0,onCall:!1,incomingCall:!1,callTime:0})},a.handleTime=function(){var e=setInterval(function(){a.setState({callTime:a.state.callTime+1})},1e3);a.setState({timer:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleRedirect",value:function(){return this.state.onVideo?l.a.createElement(p.a,{to:"/camera"}):this.state.endCall?l.a.createElement(p.a,{to:"/"}):void 0}},{key:"render",value:function(){var e=this.state,t=e.incomingCall,a=e.onCall;e.onVideo;return Te()(V.a),l.a.createElement(Y.a,{className:"mx-0 px-0"},t?l.a.createElement(Y.a,{className:"p-4 call-screen",fluid:!0},l.a.createElement(Ge,null),l.a.createElement(j.a,{className:"p-2"},l.a.createElement(w.a,null,l.a.createElement("h4",null,"Incoming Call"))),l.a.createElement(j.a,{className:"p-2"},l.a.createElement(w.a,{md:4},l.a.createElement("div",{className:"aunty-call"}))),l.a.createElement(j.a,{className:"p-3"},l.a.createElement(w.a,null,l.a.createElement("h1",null,"Aunty"))),l.a.createElement(j.a,{className:"p-3 call-action"},l.a.createElement(w.a,null,l.a.createElement(g.a,{color:"success",className:"btn-lg",onClick:this.handleCallAccept},l.a.createElement(je.a,{icon:"phone"}))),l.a.createElement(w.a,null,l.a.createElement(g.a,{color:"danger",className:"btn-lg",onClick:this.handleCallEnd},l.a.createElement(je.a,{icon:"phone-slash"}))))):a?l.a.createElement(Y.a,{className:"p-4 call-screen",fluid:!0},l.a.createElement(De,null),l.a.createElement(j.a,{className:"p-2"},l.a.createElement(w.a,null,l.a.createElement("h4",null,"On Call"),l.a.createElement("br",null)," ",V.a.duration(this.state.callTime,"seconds").format("h:mm:ss",{trim:!1}))),l.a.createElement(j.a,{className:"p-2"},l.a.createElement(w.a,{md:"4"},l.a.createElement("div",{className:"aunty-call"}))),l.a.createElement(j.a,{className:"p-3"},l.a.createElement(w.a,null,l.a.createElement("h1",null,"Aunty"))),l.a.createElement(j.a,{className:"p-3 call-action"},l.a.createElement(w.a,null,l.a.createElement(g.a,{color:"secondary",className:"btn-lg",onClick:this.handleVideo},l.a.createElement(je.a,{icon:"video"}))),l.a.createElement(w.a,null,l.a.createElement(g.a,{color:"danger",className:"btn-lg",onClick:this.handleCallEnd},l.a.createElement(je.a,{icon:"phone-slash"}))))):l.a.createElement(Y.a,null,l.a.createElement(j.a,null,l.a.createElement(w.a,null))),this.handleRedirect())}}]),t}(l.a.Component),_e=a(173),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).convertDate=function(){var e=V()(a.state.dob).format("LL");a.setState({dob:e})},a.handleEdit=function(e){e.preventDefault(),a.setState({disabled:!a.state.disabled})},a.handleSave=function(e){var t=localStorage.getItem("token");a.setState({disabled:!a.state.disabled}),e.preventDefault(),B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/users/update/",headers:{Authorization:"Bearer ".concat(t)},data:{firstName:a.state.first_name,lastName:a.state.last_name,dateOfBirth:a.state.dob,firstLanguage:a.state.firstLanguage,secondLanguage:a.state.secondLanguage,passportNum:a.state.passportNum}}).then(function(e){"success"===e.data.status&&console.log(e)}).catch(function(e){console.log(e)})},a.state={disabled:!0,user:[],dob:"",first_name:"",last_name:"",nationality:"",firstLanguage:"",secondLanguage:"",passportNum:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");B()({method:"GET",url:"https://gokaikai.herokuapp.com/api/v1/users/me/",headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({user:t.data,dob:t.data.dob,first_name:t.data.first_name,last_name:t.data.last_name,firstLanguage:t.data.language_primary,secondLanguage:t.data.language_secondary,passportNum:t.data.passport_num,nationality:t.data.nationality}),e.convertDate()})}},{key:"render",value:function(){var e=this,t=!1===this.state.disabled?l.a.createElement(g.a,{type:"submit",size:"sm",outline:!0,color:"danger",className:"float-right",onClick:this.handleSave},"Save"):l.a.createElement(g.a,{outline:!0,color:"primary",size:"sm",className:"float-right",onClick:this.handleEdit},"Edit");return l.a.createElement(_e.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Personal Details"),l.a.createElement("th",null,t))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"First Name"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",type:"text",value:this.state.first_name,disabled:this.state.disabled,onChange:function(t){return e.setState({first_name:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Last Name"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.last_name,disabled:this.state.disabled,onChange:function(t){return e.setState({last_name:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Date Of Birth"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.dob,disabled:!0,onChange:function(t){return e.setState({dob:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"First Language"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.firstLanguage,disabled:this.state.disabled,onChange:function(t){return e.setState({firstLanguage:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Second Language"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.secondLanguage,disabled:this.state.disabled,onChange:function(t){return e.setState({secondLanguage:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Nationality"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.nationality,disabled:!0,onChange:function(t){return e.setState({nationality:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Passport Number"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",value:this.state.passport_num,disabled:this.state.disabled,onChange:function(t){return e.setState({passport_num:t.target.value})}})))))}}]),t}(l.a.Component),Ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleDelete=function(e){var t=localStorage.getItem("token"),a=e.target.getAttribute("data-pin_id");B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/pins/itinerary/delete/",headers:{Authorization:"Bearer ".concat(t)},data:{pinId:a}}).then(function(e){console.log(e.data),window.location.reload()}).catch(function(e){console.log(e)})},a.state={itineraries:[],pin_id:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");B()({method:"GET",url:"https://gokaikai.herokuapp.com/api/v1/pins/itinerary/",headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({itineraries:t.data})})}},{key:"render",value:function(){var e=this;return l.a.createElement(_e.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Itinerary"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.itineraries.map(function(t){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},l.a.createElement("div",{className:"m-2"},t.pinName),l.a.createElement("tr",null,l.a.createElement("div",{className:"m-2"},l.a.createElement(g.a,{outline:!0,color:"danger",size:"sm",onClick:e.handleDelete,"data-pin_id":t.id},"Delete")))),l.a.createElement("td",null,t.start_time," ",l.a.createElement("br",null),l.a.createElement("hr",null),t.address))})))}}]),t}(l.a.Component),We=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleEdit=function(e){e.preventDefault(),a.setState({disabled:!a.state.disabled})},a.handleSave=function(e){var t=localStorage.getItem("token");a.setState({disabled:!a.state.disabled}),e.preventDefault(),B()({method:"PUT",url:"https://gokaikai.herokuapp.com/api/v1/contacts/12/",headers:{Authorization:"Bearer ".concat(t)},data:{name:a.state.name,relationship:a.state.relationship,phoneNumber:a.state.phone_number,email:a.state.email}}).then(function(e){"success"===e.data.status&&console.log(e)}).catch(function(e){console.log(e)})},a.state={disabled:!0,contact:[],name:"",relationship:"",phone_number:"",email:"",contact_id:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");B()({method:"GET",url:"https://gokaikai.herokuapp.com/api/v1/contacts/",headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e.setState({contact:t.data.personalContacts[0],contact_id:t.data.personalContacts[0].id,name:t.data.personalContacts[0].name,relationship:t.data.personalContacts[0].relationship,phone_number:t.data.personalContacts[0].phone_number,email:t.data.personalContacts[0].email})})}},{key:"render",value:function(){var e=this,t=!1===this.state.disabled?l.a.createElement(g.a,{type:"submit",size:"sm",outline:!0,color:"danger",className:"float-right",onClick:this.handleSave},"Save"):l.a.createElement(g.a,{outline:!0,color:"primary",size:"sm",className:"float-right",onClick:this.handleEdit},"Edit");return l.a.createElement(_e.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Contact"),l.a.createElement("th",null,t))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Name"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",type:"text",value:this.state.name,disabled:this.state.disabled,onChange:function(t){return e.setState({name:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Relationship"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",type:"text",value:this.state.relationship,disabled:this.state.disabled,onChange:function(t){return e.setState({relationship:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Phone Number"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",type:"text",value:this.state.phone_number,disabled:this.state.disabled,onChange:function(t){return e.setState({phone_number:t.target.value})}}))),l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},"Email"),l.a.createElement("td",null,l.a.createElement(he.a,{id:"edit",type:"text",value:this.state.email,disabled:this.state.disabled,onChange:function(t){return e.setState({email:t.target.value})}})))))}}]),t}(l.a.Component),ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(E.a)(Object(E.a)(a))),a.state={activeTab:"1"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(y.a,{tabs:!0},l.a.createElement(S.a,null,l.a.createElement(k.a,{className:N()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")}},"Profile")),l.a.createElement(S.a,null,l.a.createElement(k.a,{className:N()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")}},"Itinerary")),l.a.createElement(S.a,null,l.a.createElement(k.a,{className:N()({active:"3"===this.state.activeTab}),onClick:function(){e.toggle("3")}},"Contacts"))),l.a.createElement(C.a,{activeTab:this.state.activeTab},l.a.createElement(O.a,{tabId:"1"},l.a.createElement(He,null)),l.a.createElement(O.a,{tabId:"2"},l.a.createElement(Ue,null)),l.a.createElement(O.a,{tabId:"3"},l.a.createElement(We,null))))}}]),t}(l.a.Component),Ye=a(165),Ke=a(236),Ve=a.n(Ke),Ze=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ye.a,{fixed:"bottom",style:{backgroundColor:"White"}},l.a.createElement(w.a,{xs:"2",md:{span:1,offset:1},style:{textAlign:"center"}},l.a.createElement(i.c,{to:"/call",activeClassName:"activeIcon"},l.a.createElement(je.a,{icon:"phone-volume",color:"black",size:"2x"}))),l.a.createElement(w.a,{xs:"2",md:"1",style:{textAlign:"center"}},l.a.createElement(i.c,{to:"/map",activeClassName:"activeIcon"},l.a.createElement(je.a,{icon:"map-marked-alt",color:"black",size:"2x"}))),l.a.createElement(w.a,null,l.a.createElement(i.c,{xs:"2",md:"2",to:"/chat"},l.a.createElement("img",{className:"auntyIcon",src:Ve.a,alt:"aunty",height:100}))),l.a.createElement(w.a,{xs:"2",md:"1",style:{textAlign:"center"}},l.a.createElement(i.c,{to:"/setting",activeClassName:"activeIcon"},l.a.createElement(je.a,{icon:"sliders-h",color:"black",size:"2x"}))),l.a.createElement(w.a,{xs:"2",md:"1",style:{textAlign:"center"}},l.a.createElement(i.c,{to:"/sos",activeClassName:"activeIcon"},l.a.createElement(je.a,{icon:"bell",color:"black",size:"3x"})))))}}]),t}(l.a.Component),qe=a(85),Je=a(58),Qe=a(144),Xe=a.n(Qe),$e=(a(457),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={onConfirm:!1,image:"",redirect:!1},a.onTakePhoto=function(e){a.setState({onConfirm:!0,dataUri:e})},a.handleSubmit=function(){var e=a.props.toastManager,t=localStorage.getItem("token");B()({method:"POST",url:"https://gokaikai.herokuapp.com/api/v1/images/",headers:{Authorization:"Bearer ".concat(t)},data:{dataUri:a.state.dataUri}}).then(function(t){console.log(t),e.add("Aunty successfully analysed your photo. Redirecting to chat...",{appearance:"success",autoDismiss:!0}),localStorage.setItem("update",!0),localStorage.setItem("updateImageId",t.data.imageId),a.setState({redirect:!0})}).catch(function(t){console.log(t),e.add("Unfortunately there was an error in uploading your photo. ",{appearance:"error",autoDismiss:!0})})},a.handleReject=function(){a.setState({onConfirm:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleRedirect",value:function(){if(this.state.redirect)return l.a.createElement(p.a,{to:"/chat"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.onConfirm,n=t.dataUri;return l.a.createElement(j.a,null,a?l.a.createElement(w.a,null,l.a.createElement("img",{src:"".concat(n),height:"500"}),l.a.createElement("p",null,"Submit photo for analysis?"),l.a.createElement(j.a,{className:"justify-content-around"},l.a.createElement(g.a,{color:"success",onClick:this.handleSubmit},"Yes"),l.a.createElement(g.a,{color:"warning",onClick:this.handleReject},"No"))):l.a.createElement(w.a,null,l.a.createElement(Xe.a,{onTakePhoto:function(t){e.onTakePhoto(t)},idealResolution:{width:480,height:800},isSilentMode:!0,imageType:Qe.IMAGE_TYPES.JPG})),this.handleRedirect())}}]),t}(n.Component)),et=Object(h.withToastManager)($e);a(221);qe.b.add(Je.d,Je.c,Je.g,Je.e,Je.b,Je.f,Je.a);var tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={lat:3.136053,lng:101.6308768},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){var a=t.coords,n=a.latitude,l=a.longitude;e.setState({lat:n,lng:l}),localStorage.setItem("latitude",n.toFixed(6)),localStorage.setItem("longitude",l.toFixed(6))})}},{key:"render",value:function(){var e=this.state,t=e.lat,a=e.lng;return l.a.createElement(h.ToastProvider,null,l.a.createElement("div",{align:"center"},l.a.createElement(p.b,{exact:!0,path:"/",component:H}),l.a.createElement(p.b,{exact:!0,path:"/chat",component:ne}),l.a.createElement(p.b,{exact:!0,path:"/sos",component:ie}),l.a.createElement(p.b,{exact:!0,path:"/setting",component:ze}),l.a.createElement(p.b,{exact:!0,path:"/map",component:function(e){return l.a.createElement(Ae,Object.assign({},e,{lat:t,lng:a}))}}),l.a.createElement(p.b,{exact:!0,path:"/call",component:Re}),l.a.createElement(p.b,{exact:!0,path:"/camera",component:et})),l.a.createElement(Ze,null))}}]),t}(n.Component),at=(a(458),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function nt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(i.a,null,l.a.createElement(tt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");at?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):nt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):nt(t,e)})}}()}},[[240,1,2]]]);
//# sourceMappingURL=main.31532592.chunk.js.map